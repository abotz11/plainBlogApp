(this.webpackJsonpassignment2=this.webpackJsonpassignment2||[]).push([[0],{32:function(e,t,a){e.exports=a(70)},37:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(29),o=a.n(r),c=(a(37),a(30)),s=a(9),i=a(10),u=a(8),m=a(12),d=a(11),p=a(6),h=a(1),E=a(15),f=a.n(E);a(55),a(56);var b=function(){return l.a.createElement("div",{className:"tool-bar"},l.a.createElement("div",null,l.a.createElement(p.b,{to:"/"},"Home")," |",l.a.createElement(p.b,{to:"/aboutme"},"About Me")," |",l.a.createElement(p.b,{to:"/newpost"},"New Post")),l.a.createElement(p.b,{to:"/login"},"Login"))};a(62);var g=function(e){return l.a.createElement("div",{className:"blog-post"},l.a.createElement("div",{className:"blog-text"},l.a.createElement("div",{className:"blog-text-block"},l.a.createElement("h4",null,l.a.createElement(p.b,{to:"/post/".concat(e.id)},e.title)),l.a.createElement("p",null,e.content)),l.a.createElement("div",{className:"blog-published"},l.a.createElement("p",null,"Updated ",function(e){var t=new Date,a=new Date(e),n=Math.floor(t.getTime()/1e3-a.getTime()/1e3),l=Math.floor(n/60),r=Math.floor(l/60),o=Math.floor(r/24),c=Math.floor(o/30),s=Math.floor(c/15),i="";s>0?(i=s+" year",1!=s&&(i+="s")):c>0?(i=c+" month",1!=c&&(i+="s")):o>0?(i=o+" day",1!=o&&(i+="s")):r>0?(i=r+" hour",1!=r&&(i+="s")):l>0?(i=l+" minute",1!=l&&(i+="s")):n>0?(i=n+" second",1!=n&&(i+="s")):i="now";return i}(e.date)," ago by ",e.publisher))),l.a.createElement("div",{className:"avatar-img"},l.a.createElement("img",{src:e.avatarSrc,alt:""})))},v=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.posts.map((function(e){return l.a.createElement(g,{key:e.id,id:e.id,title:e.title,content:e.content,date:e.last_update,publisher:e.user_name,avatarSrc:e.img_src})}));return l.a.createElement("div",{className:"blog-posts"},e)}}]),a}(l.a.Component);a(63);var j=function(e){return l.a.createElement("div",{className:"main-bar"},l.a.createElement("h1",null,"This is my blog"),l.a.createElement(v,{posts:e.posts}))};var y=function(e){var t=e.posts.map((function(e){return l.a.createElement("h3",{key:e},"Blog post #",e," ",l.a.createElement(p.b,{to:""},"go to page"))}));return l.a.createElement("div",null,l.a.createElement("h1",null,e.title),t)};a(64);var O=function(){return l.a.createElement("div",{className:"side-bar"},l.a.createElement(y,{title:"Latest",posts:[1,2,3]}),l.a.createElement("hr",null),l.a.createElement(y,{title:"Popular",posts:[3,1,2]}))};a(65);var C=function(e){return l.a.createElement("div",{className:"blog"},l.a.createElement(j,{posts:e.posts}),l.a.createElement(O,null))};a(66);var w=function(){return l.a.createElement("div",{className:"about"},l.a.createElement("h1",null,"About Me"),l.a.createElement("section",null,"Welcome!!!",l.a.createElement("br",null),"My name is Abotzvi Yadgarov from Holon, Israel, and this is my blog app",l.a.createElement("br",null),"I'm an undergraguate student from IDC majoring Computer Science",l.a.createElement("br",null),"Sign in and be part of our community."),l.a.createElement("br",null),l.a.createElement("section",null,"for more information:",l.a.createElement("br",null),l.a.createElement("ul",{id:"menu"},l.a.createElement("li",null,l.a.createElement("a",{href:"tel:+972549729340"},l.a.createElement("i",{class:"fa fa-phone"}))),l.a.createElement("li",null,l.a.createElement("a",{href:"mailto:abotzvi.yadgarov@gmail.com"},l.a.createElement("i",{class:"fa fa-at"}))),l.a.createElement("li",null,l.a.createElement("a",{href:"https://www.facebook.com/avi.yadgarov"},l.a.createElement("i",{class:"fa fa-facebook"}))),l.a.createElement("li",null,l.a.createElement("a",{href:"http://www.github.com/abotz11"},l.a.createElement("i",{class:"fa fa-github"}))),l.a.createElement("li",null,l.a.createElement("a",{href:"http://www.linkedin.com/in/abotzvi-yadgarov-68ab45157/"},l.a.createElement("i",{class:"fa fa-linkedin"}))))))},k=(a(67),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleClick=function(){var e={title:document.getElementById("title").value,content:document.getElementById("content").value};n.props.handleAddPost(e)},n.handleClick=n.handleClick.bind(Object(u.a)(n)),n}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"new-post"},l.a.createElement("h1",null,"Create new post"),l.a.createElement("input",{id:"title",type:"text",placeholder:"Post title goes here..."}),l.a.createElement("textarea",{id:"content",placeholder:"Post content goes here..."}),l.a.createElement("button",{onClick:this.handleClick},"Save post"))}}]),a}(l.a.Component));a(68);var N=function(e){var t=Object(h.f)().postId,a=function(e,t){var a=null;return e.forEach((function(e){e.id==t&&(a=e)})),a}(e.posts,t);return l.a.createElement("div",{className:"post"},l.a.createElement("h1",null,a.title),l.a.createElement("br",null),l.a.createElement("p",null,a.content))},S=(a(69),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"login"},"Username: ",l.a.createElement("input",{type:"text",name:"user",onChange:this.props.handleChange}),l.a.createElement("br",null),"Password: ",l.a.createElement("input",{type:"password",name:"pass",onChange:this.props.handleChange}),l.a.createElement("br",null),l.a.createElement("button",{onClick:this.props.handleLogin},"Login"),l.a.createElement("br",null),l.a.createElement("br",null))}}]),a}(l.a.Component)),A=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(c.a)({},e.target.name,e.target.value))},n.handleLogin=function(e){var t={user:n.state.user,pass:n.state.pass};f.a.post("http://localhost:5000/login",t).then((function(e){n.postsHandler(),n.setState({resp:"Success: user logged in."})})).catch((function(e){alert(JSON.stringify(e)),n.setState({resp:"Error: failed to login user."})}))},n.handleAddPost=function(e){var t={user:n.state.user,title:e.title,content:e.content};f.a.post("http://localhost:5000/posts",t).then((function(e){n.postsHandler(),n.setState({resp:"Success: post added."})})).catch((function(e){n.setState({resp:"Error: failed to add post."})}))},n.postsHandler=function(){f.a.get("http://localhost:5000/posts").then((function(e){n.setState({posts:e.data})})).catch((function(e){n.setState({posts:[],resp:"Error: failed to get all posts."})})),setTimeout((function(){n.setState({resp:null})}),5e3)},n.state={posts:[],user:"DBK",pass:null,resp:null},n.handleAddPost=n.handleAddPost.bind(Object(u.a)(n)),n.postsHandler=n.postsHandler.bind(Object(u.a)(n)),n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.handleLogin=n.handleLogin.bind(Object(u.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.postsHandler()}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(p.a,{basename:"/plainBlogApp/"},l.a.createElement(b,null),l.a.createElement("h3",{className:"resp"},this.state.resp),l.a.createElement(h.c,null,l.a.createElement(h.a,{path:"/login"},l.a.createElement(S,{handleChange:this.handleChange,handleLogin:this.handleLogin})),l.a.createElement(h.a,{path:"/aboutme"},l.a.createElement(w,null)),l.a.createElement(h.a,{path:"/newpost"},l.a.createElement(k,{handleAddPost:this.handleAddPost})),l.a.createElement(h.a,{path:"/post/:postId"},l.a.createElement(N,{posts:this.state.posts})),l.a.createElement(h.a,{path:"/"},l.a.createElement(C,{posts:this.state.posts})))))}}]),a}(l.a.Component);o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(A,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.2aa4c4e3.chunk.js.map